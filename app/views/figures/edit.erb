<form method="POST" action="/figures/<%= @figure.id %>">
  <input id="hidden" type="hidden" name="_method" value="patch">
  <label for="figure_name">Name:</label>
  <br>
  <input type="text" name="figure[name]" id="figure_name" value="<%= @figure.name %>">
  <br>
  <label>Choose an existing title:</label>

  <br></br>

  <% Title.all.each do |title|%>
    <input type="checkbox" name="figure[title_ids][]" id="<%=title.id%>" value="<%=title.id%>" <%='checked' if @figure.titles.include?(title) %>><%=title.name%></input>
  <%end%>
  
  <br></br>

  <label>and/or, create a new title:</label>
  <br></br>
  <label>name:</label>
  <input  type="text" name="title[name]" id="new_title"></input>
  <br></br>
  
  <label>Choose an existing landmark:</label>

  <br></br>

  <% Landmark.all.each do |landmark|%>
    <input type="checkbox" name="figure[landmark_ids][]" id="<%=landmark.id%>" value="<%=landmark.id%>"><%=landmark.name%> <%='checked' if landmark.figure == @figure %></input>
  <%end%>
  
  <br></br>

  <label>and/or, create a new landmark:</label>
  <br></br>
  <label>name:</label>
  <input  type="text" name="landmark[name]" id="new_landmark"></input>
  <br></br>
  
  
  <input type="submit" value="Edit Figure" id="Edit Figure">
</form>